<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MusicFlow v2 - Enhanced Music Player</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style-v2.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <button class="menu-btn" onclick="toggleMenu()">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 class="logo">üéµ MusicFlow v2</h1>
                <div class="header-actions">
                    <button class="search-btn" onclick="showSearch()">
                        <i class="fas fa-search"></i>
                    </button>
                    <button class="profile-btn" onclick="showProfile()">
                        <i class="fas fa-user"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Sidebar -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-content">
                <ul class="nav-menu">
                    <li class="nav-item active" onclick="showSection('home')">
                        <i class="fas fa-home"></i>
                        <span>–ì–ª–∞–≤–Ω–∞—è</span>
                    </li>
                    <li class="nav-item" onclick="showSection('search')">
                        <i class="fas fa-search"></i>
                        <span>–ü–æ–∏—Å–∫</span>
                    </li>
                    <li class="nav-item" onclick="showSection('library')">
                        <i class="fas fa-music"></i>
                        <span>–ú–æ—è –º–µ–¥–∏–∞—Ç–µ–∫–∞</span>
                    </li>
                    <li class="nav-item" onclick="showSection('profile')">
                        <i class="fas fa-user"></i>
                        <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
                    </li>
                    <li class="nav-item" onclick="showSection('settings')">
                        <i class="fas fa-cog"></i>
                        <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Home Section -->
            <section id="home" class="section active">
                <div class="welcome-section">
                    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ MusicFlow</h2>
                    <p>–°–ª—É—à–∞–π—Ç–µ –º—É–∑—ã–∫—É –≤ –≤—ã—Å–æ–∫–æ–º –∫–∞—á–µ—Å—Ç–≤–µ</p>
                </div>

                <div class="recommendations">
                    <h3>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –≤–∞–º</h3>
                    <div class="playlist-grid">
                        <div class="playlist-card" onclick="playPlaylist('popular')">
                            <div class="playlist-cover">
                                <i class="fas fa-music"></i>
                            </div>
                            <h4>–ü–æ–ø—É–ª—è—Ä–Ω–∞—è –º—É–∑—ã–∫–∞</h4>
                            <p>–õ—É—á—à–∏–µ —Ö–∏—Ç—ã –≤—Å–µ—Ö –≤—Ä–µ–º–µ–Ω</p>
                        </div>
                        <div class="playlist-card" onclick="playPlaylist('rock')">
                            <div class="playlist-cover">
                                <i class="fas fa-guitar"></i>
                            </div>
                            <h4>–†–æ–∫ –∫–ª–∞—Å—Å–∏–∫–∞</h4>
                            <p>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —Ä–æ–∫ —Ç—Ä–µ–∫–∏</p>
                        </div>
                        <div class="playlist-card" onclick="playPlaylist('electronic')">
                            <div class="playlist-cover">
                                <i class="fas fa-synth"></i>
                            </div>
                            <h4>–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –º—É–∑—ã–∫–∞</h4>
                            <p>–õ—É—á—à–∏–µ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ —Ç—Ä–µ–∫–∏</p>
                        </div>
                    </div>
                </div>

                <div class="your-playlists">
                    <h3>–í–∞—à–∏ –ø–ª–µ–π–ª–∏—Å—Ç—ã</h3>
                    <div class="playlist-list">
                        <div class="playlist-item" onclick="playPlaylist('my-playlist-1')">
                            <div class="playlist-icon">
                                <i class="fas fa-heart"></i>
                            </div>
                            <div class="playlist-info">
                                <h4>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h4>
                                <p>5 —Ç—Ä–µ–∫–æ–≤ ‚Ä¢ 15 –º–∏–Ω</p>
                            </div>
                            <button class="play-btn" onclick="playPlaylist('my-playlist-1')">
                                <i class="fas fa-play"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Search Section -->
            <section id="search" class="section">
                <div class="search-section">
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="–ü–æ–∏—Å–∫ –º—É–∑—ã–∫–∏ –≤ Telegram –≥—Ä—É–ø–ø–µ..." id="searchInput">
                    </div>
                    <div class="search-info">
                        <p><i class="fas fa-info-circle"></i> –ü–æ–∏—Å–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –≥—Ä—É–ø–ø–µ <strong>@MPFM_cloud</strong></p>
                    </div>
                    <div class="search-results" id="searchResults">
                        <p>–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞</p>
                    </div>
                </div>
            </section>

            <!-- Library Section -->
            <section id="library" class="section">
                <div class="library-section">
                    <h3>–ú–æ—è –º–µ–¥–∏–∞—Ç–µ–∫–∞</h3>
                    <div class="library-tabs">
                        <button class="tab-btn active" onclick="showLibraryTab('playlists')">–ü–ª–µ–π–ª–∏—Å—Ç—ã</button>
                        <button class="tab-btn" onclick="showLibraryTab('artists')">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏</button>
                        <button class="tab-btn" onclick="showLibraryTab('albums')">–ê–ª—å–±–æ–º—ã</button>
                    </div>
                    <div class="library-content">
                        <div id="playlists-tab" class="tab-content active">
                            <div class="playlist-list">
                                <div class="playlist-item" onclick="playPlaylist('library-1')">
                                    <div class="playlist-icon">
                                        <i class="fas fa-music"></i>
                                    </div>
                                    <div class="playlist-info">
                                        <h4>–ú–æ–π –ø–ª–µ–π–ª–∏—Å—Ç</h4>
                                        <p>10 —Ç—Ä–µ–∫–æ–≤ ‚Ä¢ 30 –º–∏–Ω</p>
                                    </div>
                                    <button class="play-btn">
                                        <i class="fas fa-play"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Profile Section -->
            <section id="profile" class="section">
                <div class="profile-section">
                    <div class="profile-header">
                        <div class="profile-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="profile-info">
                            <h3>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</h3>
                            <p>–ë–∞–∑–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç</p>
                        </div>
                    </div>
                    <div class="profile-stats">
                        <div class="stat-item">
                            <span class="stat-number">0</span>
                            <span class="stat-label">–ü–ª–µ–π–ª–∏—Å—Ç–æ–≤</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">0</span>
                            <span class="stat-label">–¢—Ä–µ–∫–æ–≤</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">0</span>
                            <span class="stat-label">–ß–∞—Å–æ–≤</span>
                        </div>
                    </div>
                    <div class="profile-actions">
                        <button class="action-btn premium" onclick="upgradeToPremium()">
                            <i class="fas fa-crown"></i>
                            Upgrade to Premium
                        </button>
                        <button class="action-btn" onclick="showSection('settings')">
                            <i class="fas fa-cog"></i>
                            –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                        </button>
                        <button class="action-btn" onclick="showStats()">
                            <i class="fas fa-chart-bar"></i>
                            –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                        </button>
                        <button class="action-btn" onclick="showSection('library')">
                            <i class="fas fa-music"></i>
                            –ú–æ—è –º—É–∑—ã–∫–∞
                        </button>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="section">
                <div class="settings-section">
                    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                    <div class="settings-list">
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>–ö–∞—á–µ—Å—Ç–≤–æ –∑–≤—É–∫–∞</h4>
                                <p>–í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ</p>
                            </div>
                            <select class="setting-select">
                                <option>–í—ã—Å–æ–∫–æ–µ</option>
                                <option>–°—Ä–µ–¥–Ω–µ–µ</option>
                                <option>–ù–∏–∑–∫–æ–µ</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ</h4>
                                <p>–í–∫–ª—é—á–µ–Ω–æ</p>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h4>
                                <p>–í–∫–ª—é—á–µ–Ω—ã</p>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Player -->
        <!-- –°–∫—Ä—ã—Ç—ã–π HTML5 –∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è -->
        <audio id="hiddenAudio" preload="metadata" style="display: none;"></audio>
        
        <div class="player" id="player">
            <div class="player-content">
                <div class="track-info">
                    <div class="track-cover">
                        <i class="fas fa-music"></i>
                    </div>
                    <div class="track-details">
                        <h4 class="track-title">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–∞</h4>
                        <p class="track-artist">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</p>
                    </div>
                </div>
                <div class="player-controls">
                    <button class="control-btn" onclick="shuffleToggle()">
                        <i class="fas fa-random"></i>
                    </button>
                    <button class="control-btn" onclick="previousTrack()">
                        <i class="fas fa-step-backward"></i>
                    </button>
                    <button class="control-btn play-pause" onclick="togglePlayPause()">
                        <i class="fas fa-play"></i>
                    </button>
                    <button class="control-btn" onclick="nextTrack()">
                        <i class="fas fa-step-forward"></i>
                    </button>
                    <button class="control-btn" onclick="repeatToggle()">
                        <i class="fas fa-redo"></i>
                    </button>
                </div>
                <div class="player-progress">
                    <span class="time">0:00</span>
                    <div class="progress-bar">
                        <div class="progress" style="width: 0%"></div>
                    </div>
                    <span class="time">0:00</span>
                </div>
                <div class="player-volume">
                    <button class="volume-btn" onclick="toggleMute()">
                        <i class="fas fa-volume-up"></i>
                    </button>
                    <div class="volume-bar">
                        <div class="volume-progress" style="width: 80%"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Playlist Modal -->
        <div class="modal" id="playlistModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>–ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞</h3>
                    <button class="close-btn" onclick="closePlaylist()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="playlist-info">
                        <p>0 —Ç—Ä–µ–∫–æ–≤ ‚Ä¢ 0 –º–∏–Ω</p>
                    </div>
                    <div class="track-list">
                        <div class="track-item">
                            <div class="track-number">1</div>
                            <div class="track-info">
                                <h4>–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–∞</h4>
                                <p>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</p>
                            </div>
                            <button class="play-track-btn" onclick="playTrack(1)">
                                <i class="fas fa-play"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app-v2.js"></script>
</body>
</html>
